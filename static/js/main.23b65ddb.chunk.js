(this["webpackJsonpegg-hunter"]=this["webpackJsonpegg-hunter"]||[]).push([[0],{25:function(t,e,n){t.exports=n.p+"static/media/egg.52ea1c7f.png"},26:function(t,e,n){t.exports=n.p+"static/media/rock.71059532.png"},27:function(t,e,n){t.exports=n.p+"static/media/bunny.be280460.png"},38:function(t,e,n){t.exports=n(62)},43:function(t,e,n){},44:function(t,e,n){},60:function(t,e,n){},61:function(t,e,n){},62:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(5),c=n.n(o),u=(n(43),n(3)),i=n(2),s=n(9),l=n(6),d=n(7),g=(n(44),n(45),n(28)),p=n(24),m=n.n(p),h=(n(60),n(25)),f=n.n(h),b=n(26),v=n.n(b),w=n(27),O=n.n(w),y=Object(r.createContext)(),j=function(){return a.a.createElement("div",{className:"Board"},a.a.createElement(m.a,null,(function(t){var e=t.width;return a.a.createElement(r.Fragment,null,a.a.createElement(E,{width:e}))})))},E=function(t){var e=t.width,n=Object(r.useContext)(y),o=n.game,c=n.dispatch,u=Object(r.useRef)(),i={row:o.charPoint[0],col:o.charPoint[1]},s=e/o.columns,l=x(o,s),d=k(o,s);console.log("eggs.length",d.length);var p=s*o.rows;return Object(r.useEffect)((function(){var t=g.a(u.current),e=t.selectAll("g.tileGroup").data(l,(function(t){return"".concat(t.row,",").concat(t.col)})),n=e.enter().append("g").classed("tileGroup",!0).attr("transform",(function(t){return"translate(".concat(t.x,", ").concat(t.y,")")}));n.append("rect").classed("tileSquare",!0).attr("x",3).attr("y",3).attr("rx",6).attr("width",s-6).attr("height",s-6),n.filter((function(t){return t.rock})).append("image").classed("tileRock",!0).attr("x",18).attr("y",18).attr("xlink:href",v.a).attr("width",.7*s).attr("height",.7*s),e=n.merge(e);var r=t.selectAll("image.character").data([i],(function(){return 1}));r.enter().append("image").classed("character",!0).attr("xlink:href",O.a).attr("width",s-12).attr("height",s-12).attr("x",(function(t){return t.col*s+6})).attr("y",(function(t){return t.row*s+6})).merge(r),r.transition().duration(700).attr("x",(function(t){return t.col*s+6})).attr("y",(function(t){return t.row*s+6})).on("end",(function(){return c({type:"moved"})}));var a=t.selectAll("image.egg").data(d,(function(t){return"".concat(t.row,".").concat(t.col)}));a.exit().remove(),a=a.enter().append("image").classed("egg",!0).attr("xlink:href",f.a).attr("width",s-48).attr("height",s-48).attr("x",(function(t){return t.col*s+24})).attr("y",(function(t){return t.row*s+24})).merge(a)})),a.a.createElement("svg",{className:"BoardSvg",ref:u,width:e,height:p})},x=function(t,e){for(var n=t.rows,r=t.columns,a=t.rocks,o=[],c=0;c<n;c++)for(var u=0;u<r;u++)o.push({row:c,col:u,x:u*e,y:c*e,rock:a.has(c,u),cellSize:e});return o},k=function(t,e){var n=t.eggs,r=t.eggsFound;return n.values.filter((function(t){return!r.has.apply(r,Object(i.a)(t))})).map((function(t){var n=Object(l.a)(t,2),r=n[0],a=n[1];return{row:r,col:a,x:a*e,y:r*e}}))},P=(n(61),{left:"\u21e0",up:"\u21e1",right:"\u21e2",down:"\u21e3"}),C=function(){var t=Object(r.useContext)(y),e=t.game.instructions,n=t.dispatch;return a.a.createElement("div",{className:"Instructions"},a.a.createElement("button",{className:"RunButton",onClick:function(){return n({type:"run",payload:0})}},"Run!"),a.a.createElement(I,null),e.map((function(t,e){return a.a.createElement(B,{dir:t,i:e,key:e})})))},B=function(t){var e=t.dir,n=t.i,o=Object(r.useContext)(y).dispatch;return a.a.createElement("div",{className:"Instruction"},a.a.createElement("span",{className:"InstructionDir"},n+1,"."," "," "," ",P[e]),a.a.createElement("button",{className:"InstructionDelete",onClick:function(){return o({type:"rmInstruction",payload:n})}},"x"))},I=function(){var t=Object(r.useContext)(y).dispatch;return a.a.createElement("div",{className:"AddInstruction"},a.a.createElement("div",{className:"AddInstructionButtons"},a.a.createElement("button",{type:"button",className:"AddInstructionArrowButton",onClick:function(){return t({type:"addInstruction",payload:"left"})}},a.a.createElement("span",{className:"arrowBtnText"},P.left)),a.a.createElement("button",{type:"button",className:"AddInstructionArrowButton",onClick:function(){return t({type:"addInstruction",payload:"up"})}},a.a.createElement("span",{className:"arrowBtnText"},P.up)),a.a.createElement("button",{type:"button",className:"AddInstructionArrowButton",onClick:function(){return t({type:"addInstruction",payload:"right"})}},a.a.createElement("span",{className:"arrowBtnText"},P.right)),a.a.createElement("button",{type:"button",className:"AddInstructionArrowButton",onClick:function(){return t({type:"addInstruction",payload:"down"})}},a.a.createElement("span",{className:"arrowBtnText"},P.down))))},N={startPoint:[0,0],charPoint:[0,0],columns:6,rows:5,eggs:A([[1,1],[3,3],[1,4],[4,5]]),eggsFound:A([]),rocks:A([[0,1],[1,3],[2,3],[4,4]]),instructions:[],running:-1};function A(t){var e=t.reduce((function(t,e){var n=Object(l.a)(e,2),r=n[0],a=n[1];return t[r]?t[r][a]=!0:t[r]=Object(s.a)({},a,!0),t}),{});return{values:t,has:function(t,n){return e[t]&&!0===e[t][n]},add:function(n,r){e[n]?e[n][r]=!0:e[n]=Object(s.a)({},r,!0),t.push([n,r])}}}var F=function(t,e){switch(e){case"up":return[t[0]-1,t[1]];case"down":return[t[0]+1,t[1]];case"left":return[t[0],t[1]-1];case"right":return[t[0],t[1]+1];default:return Object(i.a)(t)}};function R(t,e){switch(e.type){case"addInstruction":return Object(u.a)({},t,{instructions:[].concat(Object(i.a)(t.instructions),[e.payload])});case"rmInstruction":var n=t.instructions;return n.splice(e.payload,1),Object(u.a)({},t,{instructions:Object(i.a)(n)});case"run":var r=t.instructions[e.payload];return r?Object(u.a)({},t,{charPoint:F(t.startPoint,r),running:e.payload}):t;case"moved":var a,o,c;if(-1===t.running)return t;if((a=t.rocks).has.apply(a,Object(i.a)(t.charPoint)))return d.b.error("You hit a rock!",{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),Object(u.a)({},t,{running:-1,charPoint:Object(i.a)(t.startPoint),eggsFound:A([])});var s,g=Object(l.a)(t.charPoint,2),p=g[0],m=g[1],h=t.rows,f=t.columns;if(p<0||p>=h||m<0||m>=f)return d.b.error("You went out of bounds!",{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),Object(u.a)({},t,{running:-1,charPoint:Object(i.a)(t.startPoint),eggsFound:A([])});if((o=t.eggs).has.apply(o,Object(i.a)(t.charPoint))&&!(c=t.eggsFound).has.apply(c,Object(i.a)(t.charPoint)))(s=t.eggsFound).add.apply(s,Object(i.a)(t.charPoint));var b=t.running,v=t.instructions;if(v[b+1])return Object(u.a)({},t,{running:b+1,charPoint:F(t.charPoint,v[b+1])});var w=t.eggs,O=t.eggsFound;return w.values.length>O.values.length?d.b.info("You found ".concat(O.values.length," out of ").concat(w.values.length," eggs!"),{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0}):d.b.success("You got all the eggs!!!",{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),Object(u.a)({},t,{running:-1,charPoint:Object(i.a)(t.startPoint),eggsFound:A([])});default:return t}}var H=function(){var t=Object(r.useReducer)(R,N),e=Object(l.a)(t,2),n=e[0],o=e[1];return a.a.createElement(y.Provider,{value:{game:n,dispatch:o}},a.a.createElement("div",{className:"App"},a.a.createElement(j,null),a.a.createElement(C,null)),a.a.createElement(d.a,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.23b65ddb.chunk.js.map